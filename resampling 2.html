<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>33 Resampling | Programming for Data Science in R</title>

    <meta name="author" content="Efstathios (Stathis) D. Gennatas, MBBS AICSM PhD" />
  
   <meta name="description" content="33 Resampling | Programming for Data Science in R is a project to build an online resource for (Bio)statisticians / Epidemiologists / (Health) Data Scientists" />
   <meta name="generator" content="placeholder" />
  <meta property="og:title" content="33 Resampling | Programming for Data Science in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="33 Resampling | Programming for Data Science in R is a project to build an online resource for (Bio)statisticians / Epidemiologists / (Health) Data Scientists" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="33 Resampling | Programming for Data Science in R" />
  
  <meta name="twitter:description" content="33 Resampling | Programming for Data Science in R is a project to build an online resource for (Bio)statisticians / Epidemiologists / (Health) Data Scientists" />
  
  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script>
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
    <script src="libs/bs3compat-0.3.1/transition.js"></script>
    <script src="libs/bs3compat-0.3.1/tabs.js"></script>
    <script src="libs/bs3compat-0.3.1/bs3compat.js"></script>
    <link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet" />
    <script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
    <script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
    <script src="libs/plotly-binding-4.9.4.1/plotly.js"></script>
    <script src="libs/typedarray-0.1/typedarray.min.js"></script>
    <link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
    <link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
    <script src="libs/d3-3.5.6/d3.min.js"></script>
    <link href="libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet" />
    <script src="libs/profvis-0.3.6.9000/profvis.js"></script>
    <script src="libs/profvis-0.3.6.9000/scroll.js"></script>
    <link href="libs/highlight-6.2.0/textmate.css" rel="stylesheet" />
    <script src="libs/highlight-6.2.0/highlight.js"></script>
    <script src="libs/profvis-binding-0.3.7/profvis.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-163213745-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-163213745-1');
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script>

  <!-- CSS -->
    <link rel="stylesheet" href="bootstrap.lambdamd.css" />
  
</head>

<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book">
    <a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Programming for Data Science in R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>

      <nav aria-label="Table of contents">
        <h2>Table of contents</h2>
        <div id="book-toc"></div>

        <div class="book-extra">
          <p><a id="book-repo" href="#">View book source <i class="fab fa-github"></i></a></li></p>
        </div>
      </nav>
    </div>
  </header>

  <main class="col-sm-12 col-md-9 col-lg-7" id="content">
<div id="resampling" class="section level1" number="33">
<h1><span class="header-section-number">33</span> Resampling</h1>
<STYLE type='text/css' scoped>
PRE.fansi SPAN {padding-top: .25em; padding-bottom: .25em};
</STYLE>
<div class="sourceCode" id="cb2022"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2022-1"><a href="resampling.html#cb2022-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rtemis)</span></code></pre></div>
<p><strong>Resampling</strong> refers to a collection of techniques for selecting cases from a sample. It is central to many machine learning algorithms and pipelines. The two core uses of resampling in predictive modeling / machinbe learning are <strong>model selection (a.k.a. tuning)</strong> and <strong>model assessment</strong>. By convention, we use the terms <strong><em>training</em></strong> and <strong><em>validation</em></strong> set when refering to model selection, and <strong><em>training</em></strong> and <strong><em>testing</em></strong> set when refering to model assessment. The terminology is unfortunately not intuitive and has led to much confusion. Some people reverse the terms, but we use the terms training, validation, and testing as they are used in the <a href="https://web.stanford.edu/~hastie/ElemStatLearn/">Elements of Statistical Learning</a> (p. 222, Second edition, 12th printing).</p>
<div id="model-selection-and-assessment" class="section level2" number="33.1">
<h2><span class="header-section-number">33.1</span> Model Selection and Assessment</h2>
<ol style="list-style-type: decimal">
<li><strong>Model Selection</strong> aka <strong>Hyperparameter tuning</strong></li>
</ol>
<p>Resamples of the training set are drawn creating multiple <strong><em>training</em></strong> and <strong><em>validation</em></strong> sets. For each resample, a combination of hyperparameters is used to train a model. The mean validation-set error across resamples is calculated. The combination of hyperparameters with the minimum loss on average across validation-set resamples is selected to train the full training sample.</p>
<ol start="2" style="list-style-type: decimal">
<li><strong>Model assessment</strong></li>
</ol>
<p>Resamples of the full sample are drawn, resulting into multiple training - testing sets. A model is trained on each training set and its performance assessed on the corresponding test set. Model performance is averaged across all test sets.</p>
<p><strong>Nested resampling</strong> or <strong>nested crossvalidation</strong> is the procedure where 1. and 2. are nested so that hyperparameter tuning (resampling of the training set) is performed within each of multiple training resamples and performance is tested in each corresponding test set. [elevate] performs automatic nested resampling and is one of the core supervised learning functions in <strong>rtemis</strong>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:kfold"></span>
<img src="kfold.png" alt="10-fold crossvalidation" width="100%" />
<p class="caption">
Figure 33.1: 10-fold crossvalidation
</p>
</div>
</div>
<div id="the-resample-function" class="section level2" number="33.2">
<h2><span class="header-section-number">33.2</span> The resample function</h2>
<p>The <code>resample()</code> function is responsible for all resampling in <strong>rtemis</strong>.</p>
<div class="sourceCode" id="cb2023"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2023-1"><a href="resampling.html#cb2023-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">500</span>)</span>
<span id="cb2023-2"><a href="resampling.html#cb2023-2" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">resample</span>(x)</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE><span style='color: #555555; font-weight: bold;'>[ </span><span style='font-weight: bold;'>Resampling Parameters</span><span style='color: #555555; font-weight: bold;'> ]
</span>    n.resamples: 10 
      resampler: strat.sub 
   stratify.var: y 
        train.p: 0.75 
   strat.n.bins: 4 

<span style='color: #555555;'>[2021-10-01 20:52:03</span><span style='color: #555555; font-weight: bold;'> resample</span><span style='color: #555555;'>] </span>Created 10 stratified subsamples 
</CODE></PRE>
<div class="sourceCode" id="cb2024"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2024-1"><a href="resampling.html#cb2024-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(res)</span></code></pre></div>
<pre><code>[1] &quot;resample&quot; &quot;list&quot;    </code></pre>
<p>It outputs a list which is an S3 object of class <code>resample</code>, with print and plot methods.</p>
<div class="sourceCode" id="cb2026"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2026-1"><a href="resampling.html#cb2026-1" aria-hidden="true" tabindex="-1"></a>res</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE><span style='font-weight: bold;'>.:rtemis</span> <span style='color: #BBBB00; font-weight: bold;'>resample object</span> 
              N: 10 
           type: strat.sub 
        train.p: 0.75 
   strat.n.bins: 4 
</CODE></PRE>
<div class="sourceCode" id="cb2027"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2027-1"><a href="resampling.html#cb2027-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(res)</span></code></pre></div>
<p><img src="86-Resampling_files/figure-html/unnamed-chunk-3-1.png" width="768" /></p>
<p>The teal-colored lines represent the training cases selected for each resample, the white are testing cases (held out).</p>
<p><code>resample()</code> supports 5 types of resampling:</p>
<ol style="list-style-type: decimal">
<li><strong>k-fold crossvalidation (Stratified)</strong></li>
</ol>
<p>You split the cases into k sets (folds). Each set is used once as the validation or testing set. This means each cases is left out exactly once and there is no overlap between different validation/test sets. In <strong>rtemis</strong>, the folds are also stratified by default on the outcome unless otherwise chosen. Stratification tries to maintain the full sample’s distribution in both training and left-out sets. This is crucial for non-normally distributed continuous outcomes or <a href="#imbalanced">imbalanced datasets</a>. 10 is a common value for k, called 10-fold. Note that the size of the training and left-out sets depends on the sample size.</p>
<div class="sourceCode" id="cb2028"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2028-1"><a href="resampling.html#cb2028-1" aria-hidden="true" tabindex="-1"></a>res<span class="fl">.10</span>fold <span class="ot">&lt;-</span> <span class="fu">resample</span>(x, <span class="dv">10</span>, <span class="st">&quot;kfold&quot;</span>)</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE><span style='color: #555555; font-weight: bold;'>[ </span><span style='font-weight: bold;'>Resampling Parameters</span><span style='color: #555555; font-weight: bold;'> ]
</span>    n.resamples: 10 
      resampler: kfold 
   stratify.var: y 
   strat.n.bins: 4 

<span style='color: #555555;'>[2021-10-01 20:52:04</span><span style='color: #555555; font-weight: bold;'> resample</span><span style='color: #555555;'>] </span>Created 10 independent folds 
</CODE></PRE>
<ol start="2" style="list-style-type: decimal">
<li><strong>Stratified subsampling</strong></li>
</ol>
<p>Draw <code>n.resamples</code> stratified samples from the data given a certain probability (<code>train.p</code>) that each case belongs to the training set. Since you are randomly sampling from the full sample each time, there will be overlap in the test set cases, but you control the training-to-testing ratio and number of resamples independently, unlike in k-fold resampling.</p>
<div class="sourceCode" id="cb2029"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2029-1"><a href="resampling.html#cb2029-1" aria-hidden="true" tabindex="-1"></a>res<span class="fl">.25</span>ss <span class="ot">&lt;-</span> <span class="fu">resample</span>(x, <span class="dv">25</span>, <span class="st">&quot;strat.sub&quot;</span>)</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE><span style='color: #555555; font-weight: bold;'>[ </span><span style='font-weight: bold;'>Resampling Parameters</span><span style='color: #555555; font-weight: bold;'> ]
</span>    n.resamples: 25 
      resampler: strat.sub 
   stratify.var: y 
        train.p: 0.75 
   strat.n.bins: 4 

<span style='color: #555555;'>[2021-10-01 20:52:04</span><span style='color: #555555; font-weight: bold;'> resample</span><span style='color: #555555;'>] </span>Created 25 stratified subsamples 
</CODE></PRE>
<ol start="3" style="list-style-type: decimal">
<li><strong>Bootstrap</strong></li>
</ol>
<p>The <a href="https://en.wikipedia.org/wiki/Bootstrapping_(statistics)">bootstrap</a>: random sampling with replacement. Since cases are replicated, you should use bootstrap as the outer resampler if you will also have inner resampling for tuning, since the same case may end up in both training and validation sets.</p>
<div class="sourceCode" id="cb2030"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2030-1"><a href="resampling.html#cb2030-1" aria-hidden="true" tabindex="-1"></a>res<span class="fl">.100</span>boot <span class="ot">&lt;-</span> <span class="fu">resample</span>(x, <span class="dv">100</span>, <span class="st">&quot;bootstrap&quot;</span>)</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE><span style='color: #555555; font-weight: bold;'>[ </span><span style='font-weight: bold;'>Resampling Parameters</span><span style='color: #555555; font-weight: bold;'> ]
</span>   n.resamples: 100 
     resampler: bootstrap 

<span style='color: #555555;'>[2021-10-01 20:52:04</span><span style='color: #555555; font-weight: bold;'> resample</span><span style='color: #555555;'>] </span>Created 100 bootstrap resamples 
</CODE></PRE>
<ol start="4" style="list-style-type: decimal">
<li><strong>Stratified Bootstrap</strong></li>
</ol>
<p>This is stratified subsampling with random replication of cases to match the length of the original sample. Same as the bootstrap, do not use if you will be further resampling each resample.</p>
<div class="sourceCode" id="cb2031"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2031-1"><a href="resampling.html#cb2031-1" aria-hidden="true" tabindex="-1"></a>res<span class="fl">.100</span>sboot <span class="ot">&lt;-</span> <span class="fu">resample</span>(x, <span class="dv">100</span>, <span class="st">&quot;strat.boot&quot;</span>)</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE><span style='color: #555555; font-weight: bold;'>[ </span><span style='font-weight: bold;'>Resampling Parameters</span><span style='color: #555555; font-weight: bold;'> ]
</span>     n.resamples: 100 
       resampler: strat.boot 
    stratify.var: y 
         train.p: 0.75 
    strat.n.bins: 4 
   target.length: 500 

<span style='color: #555555;'>[2021-10-01 20:52:04</span><span style='color: #555555; font-weight: bold;'> resample</span><span style='color: #555555;'>] </span>Created 100 stratified bootstraps 
</CODE></PRE>
<ol start="5" style="list-style-type: decimal">
<li><strong>Leave-One-Out-Crossvalidation (LOOCV)</strong></li>
</ol>
<p>This is k-fold crossvalidation where <span class="math inline">\(k = N\)</span>, where <span class="math inline">\(N\)</span> is number of data points/cases in the whole sample. It has been included for experimentation and completenes, but it is not recommended either for model selection or assessment over the other resampling methods.</p>
<div class="sourceCode" id="cb2032"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2032-1"><a href="resampling.html#cb2032-1" aria-hidden="true" tabindex="-1"></a>res.loocv <span class="ot">&lt;-</span> <span class="fu">resample</span>(x, <span class="at">resampler =</span> <span class="st">&quot;loocv&quot;</span>)</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE><span style='color: #555555; font-weight: bold;'>[ </span><span style='font-weight: bold;'>Resampling Parameters</span><span style='color: #555555; font-weight: bold;'> ]
</span>   n.resamples: 500 
     resampler: loocv 

<span style='color: #555555;'>[2021-10-01 20:52:04</span><span style='color: #555555; font-weight: bold;'> resample</span><span style='color: #555555;'>] </span>Created 500 independent folds (LOOCV) 
</CODE></PRE>
</div>
<div id="example-stratified-vs-random-sampling-in-a-binomial-distribution" class="section level2" number="33.3">
<h2><span class="header-section-number">33.3</span> Example: Stratified vs random sampling in a binomial distribution</h2>
<p>Imagine <code>y</code> is the outcome of interest where events occur with a probability of .1 - a common scenario in many fields.</p>
<div class="sourceCode" id="cb2033"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2033-1"><a href="resampling.html#cb2033-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2020</span>)</span>
<span id="cb2033-2"><a href="resampling.html#cb2033-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="dv">100</span>, <span class="dv">1</span>, .<span class="dv">1</span>)</span>
<span id="cb2033-3"><a href="resampling.html#cb2033-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mplot3.x</span>(x)</span></code></pre></div>
<p><img src="86-Resampling_files/figure-html/unnamed-chunk-9-1.png" width="432" /></p>
<div class="sourceCode" id="cb2034"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2034-1"><a href="resampling.html#cb2034-1" aria-hidden="true" tabindex="-1"></a>freq <span class="ot">&lt;-</span> <span class="fu">table</span>(x)</span>
<span id="cb2034-2"><a href="resampling.html#cb2034-2" aria-hidden="true" tabindex="-1"></a>prob <span class="ot">&lt;-</span> freq[<span class="dv">2</span>] <span class="sc">/</span> <span class="fu">sum</span>(freq)</span>
<span id="cb2034-3"><a href="resampling.html#cb2034-3" aria-hidden="true" tabindex="-1"></a>res.nonstrat <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">seq</span>(<span class="dv">10</span>), <span class="cf">function</span>(i) <span class="fu">sample</span>(<span class="fu">seq</span>(x), .<span class="dv">75</span><span class="sc">*</span><span class="fu">length</span>(x)))</span>
<span id="cb2034-4"><a href="resampling.html#cb2034-4" aria-hidden="true" tabindex="-1"></a>res.strat <span class="ot">&lt;-</span> <span class="fu">resample</span>(x)</span></code></pre></div>
<PRE class="fansi fansi-output"><CODE><span style='color: #555555; font-weight: bold;'>[ </span><span style='font-weight: bold;'>Resampling Parameters</span><span style='color: #555555; font-weight: bold;'> ]
</span>    n.resamples: 10 
      resampler: strat.sub 
   stratify.var: y 
        train.p: 0.75 
   strat.n.bins: 4 
<span style='color: #555555;'>[2021-10-01 20:52:04</span><span style='color: #555555; font-weight: bold;'> strat.sub</span><span style='color: #555555;'>] </span>Using max n bins possible = 2 

<span style='color: #555555;'>[2021-10-01 20:52:04</span><span style='color: #555555; font-weight: bold;'> resample</span><span style='color: #555555;'>] </span>Created 10 stratified subsamples 
</CODE></PRE>
<div class="sourceCode" id="cb2035"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2035-1"><a href="resampling.html#cb2035-1" aria-hidden="true" tabindex="-1"></a>prob.nonstrat <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">seq</span>(<span class="dv">10</span>), <span class="cf">function</span>(i) {</span>
<span id="cb2035-2"><a href="resampling.html#cb2035-2" aria-hidden="true" tabindex="-1"></a>  freq <span class="ot">&lt;-</span> <span class="fu">table</span>(x[res.nonstrat[[i]]])</span>
<span id="cb2035-3"><a href="resampling.html#cb2035-3" aria-hidden="true" tabindex="-1"></a>  freq[<span class="dv">2</span>]<span class="sc">/</span><span class="fu">sum</span>(freq)</span>
<span id="cb2035-4"><a href="resampling.html#cb2035-4" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb2035-5"><a href="resampling.html#cb2035-5" aria-hidden="true" tabindex="-1"></a>prob.strat <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">seq</span>(<span class="dv">10</span>), <span class="cf">function</span>(i) {</span>
<span id="cb2035-6"><a href="resampling.html#cb2035-6" aria-hidden="true" tabindex="-1"></a>  freq <span class="ot">&lt;-</span> <span class="fu">table</span>(x[res.strat[[i]]])</span>
<span id="cb2035-7"><a href="resampling.html#cb2035-7" aria-hidden="true" tabindex="-1"></a>  freq[<span class="dv">2</span>]<span class="sc">/</span><span class="fu">sum</span>(freq)</span>
<span id="cb2035-8"><a href="resampling.html#cb2035-8" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb2035-9"><a href="resampling.html#cb2035-9" aria-hidden="true" tabindex="-1"></a>prob.nonstrat</span></code></pre></div>
<pre><code>         1          1          1          1          1          1          1 
0.09333333 0.08000000 0.08000000 0.06666667 0.06666667 0.10666667 0.10666667 
         1          1          1 
0.10666667 0.09333333 0.08000000 </code></pre>
<div class="sourceCode" id="cb2037"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2037-1"><a href="resampling.html#cb2037-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(prob.nonstrat)</span></code></pre></div>
<pre><code>[1] 0.0156505</code></pre>
<div class="sourceCode" id="cb2039"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2039-1"><a href="resampling.html#cb2039-1" aria-hidden="true" tabindex="-1"></a>prob.strat</span></code></pre></div>
<pre><code>         1          1          1          1          1          1          1 
0.08108108 0.08108108 0.08108108 0.08108108 0.08108108 0.08108108 0.08108108 
         1          1          1 
0.08108108 0.08108108 0.08108108 </code></pre>
<div class="sourceCode" id="cb2041"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2041-1"><a href="resampling.html#cb2041-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(prob.strat)</span></code></pre></div>
<pre><code>[1] 0</code></pre>
<p>As expected, the random sampling resulted in different event probability in each resample, whereas stratified subsampling maintained a constant probability across resamples.</p>

</div>
</div>
  </main>

  <div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page">
      <h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          <li><a id="book-source" href="#">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="#">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
      </div>
    </nav>
  </div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5">
  <div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Programming for Data Science in R</strong>" was written by Efstathios (Stathis) D. Gennatas, MBBS AICSM PhD. It was last built on 2021-11-07.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
<script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>

</html>
